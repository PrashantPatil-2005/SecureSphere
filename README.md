# SecuriSphere
> A multi-layer cybersecurity monitoring and threat correlation framework for containerized environments.

## Architecture

```ascii
+----------------+      +----------------+      +----------------+
|  Monitor Layer | ---> |  Event Bus     | ---> |  Engine Layer  |
| (Net, API, Auth)|     | (Redis Pub/Sub)|      | (Correlation)  |
+----------------+      +----------------+      +----------------+
                                                        |
                                                        v
+----------------+      +----------------+      +----------------+
|   Dashboard    | <--- |    Database    | <--- |   Backend      |
|    (React)     |      |  (PostgreSQL)  |      |    (API)       |
+----------------+      +----------------+      +----------------+
```

## Prerequisites

- [Docker](https://docs.docker.com/get-docker/)
- [Docker Compose](https://docs.docker.com/compose/install/)
- [Git](https://git-scm.com/downloads)

## Quick Start

1. **Clone the repository**
   ```bash
   git clone https://github.com/your/securisphere.git
   cd securisphere
   ```

2. **Setup the environment**
   ```bash
   make setup
   ```

3. **Start the application**
   ```bash
   make start
   ```

## Phase 1 Status

Phase 1 completes the project foundation:
- [x] Project structure
- [x] Docker Compose with Redis & PostgreSQL
- [x] Database Schema
- [x] Basic Scripts & Makefile

**To verify Phase 1:**
Run `make health` to check if Redis and PostgreSQL are up and running correctly.

## Available Commands

| Command | Description |
|---------|-------------|
| `make setup` | Run initial setup (create .env, dirs, start db) |
| `make start` | Start all services |
| `make stop` | Stop all services |
| `make reset` | Stop services and remove all data volumes |
| `make health` | Run health checks |
| `make logs` | View logs from all containers |
| `make shell-db` | Access PostgreSQL shell |
| `make shell-redis` | Access Redis shell |

## Environment Variables

| Variable | Description | Default |
|----------|-------------|---------|
| `REDIS_PORT` | Port for Redis | 6379 |
| `POSTGRES_PORT` | Port for PostgreSQL | 5432 |
| `POSTGRES_DB` | Database name | securisphere_db |
| `MONITOR_INTERFACE` | Network interface to monitor | eth0 |

See `.env.example` for all available configuration options.

## Database Schema

- **security_events**: Raw security events from all monitors
- **correlated_incidents**: High-level incidents generated by correlation engine
- **risk_scores**: Dynamic risk scores for entities (IPs, users)
- **baseline_metrics**: Statistical baselines for anomaly detection

## Troubleshooting

- **Database connection failed**: Ensure `make setup` ran successfully and containers are healthy.
- **Redis connection failed**: Check `make logs-redis` for errors.
- **Port conflicts**: Modify ports in `.env` if 5432 or 6379 are taken.

## Project Phases

| Phase | Description | Status |
|-------|-------------|--------|
| 1 | Foundation & Infrastructure | ✅ |
| 2 | Target Services (API, Auth) | ⬜ |
| 3 | Security Monitors | ⬜ |
| 4 | Event Normalization | ⬜ |
| 5 | Correlation Engine | ⬜ |
| 6 | Backend API | ⬜ |
| 7 | Frontend Dashboard | ⬜ |
| 8 | Attack Simulation | ⬜ |
| 9 | Integration Testing | ⬜ |
| 10 | Evaluation Framework | ⬜ |
